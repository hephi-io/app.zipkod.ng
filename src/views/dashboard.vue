<script setup lang="ts">
import { animate, stagger } from "motion";
import NewShipment from "@/components/shared/NewShipment.vue";

import { Button } from "@/components/ui/button";
import { onMounted, ref } from "vue";
import { columns } from "@/components/dashboard/column";
import { type Shipping, shippings } from "@/services/index";
import DataTable from "@/components/dashboard/data-table.vue";
import ZPagination from "@/components/shared/z-pagination.vue";
import Money from "@/assets/svgs/money-02.svg";

const data = ref<Shipping[]>([]);

async function getData(): Promise<Shipping[]> {
  return shippings;
}

onMounted(async () => {
  data.value = await getData();

  animate(
    ".animation-slide-up",
    { y: [20, 0], opacity: [0, 1] },
    { duration: 0.5, delay: stagger(0.1) }
  );
});
</script>

<template>
  <main>
    <header class="flex justify-between mb-10 pt-6 animation-slide-up">
      <div>
        <div
          class="text-sm leading-[14px] tracking-[-3%] text-[#676767] mb-2.5"
        >
          Hello Melody,
        </div>

        <h1
          class="space-mono font-semibold text-[26px] leading-[26px] tracking-[-3%] text-[#242424]"
        >
          Good Morning
        </h1>
      </div>

      <NewShipment />
    </header>

    <section class="w-[420px] animation-slide-up">
      <section
        class="flex flex-col rounded-lg border border-[#E5E5E5] px-5 pt-4 pb-5 bg-[#F9F9F9]"
      >
        <section class="mb-[30px] flex items-center justify-between">
          <Money />

          <svg
            width="46"
            height="25"
            viewBox="0 0 46 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M1.46967 17.6728C1.17678 17.9657 1.17678 18.4406 1.46967 18.7335C1.76256 19.0263 2.23744 19.0263 2.53033 18.7335L1.46967 17.6728ZM9.39782 13.3214L8.9293 13.907L9.39782 13.3214ZM11.5173 15.017L11.0488 15.6026L11.5173 15.017ZM14.2615 14.7839L13.7009 14.2857L14.2615 14.7839ZM21.5606 7.7014C21.8357 7.39181 21.8079 6.91776 21.4983 6.64257C21.1887 6.36738 20.7146 6.39527 20.4394 6.70485L21.5606 7.7014ZM12.9679 15.8256L13.0314 16.5729L13.0314 16.5729L12.9679 15.8256ZM8.01892 12.5447L8.06039 13.2935H8.06039L8.01892 12.5447ZM18 5.45312C17.5858 5.45312 17.25 5.78891 17.25 6.20312C17.25 6.61734 17.5858 6.95312 18 6.95312V5.45312ZM21.25 10.2031C21.25 10.6173 21.5858 10.9531 22 10.9531C22.4142 10.9531 22.75 10.6173 22.75 10.2031H21.25ZM21.7071 6.49602L22.2374 5.96569V5.96569L21.7071 6.49602ZM2.53033 18.7335L7.26455 13.9992L6.20389 12.9386L1.46967 17.6728L2.53033 18.7335ZM8.9293 13.907L11.0488 15.6026L11.9858 14.4313L9.86634 12.7357L8.9293 13.907ZM14.8221 15.2822L21.5606 7.7014L20.4394 6.70485L13.7009 14.2857L14.8221 15.2822ZM11.0488 15.6026C11.3837 15.8705 11.6914 16.1187 11.9687 16.2863C12.2644 16.4652 12.6129 16.6084 13.0314 16.5729L12.9045 15.0783C12.9039 15.0783 12.9038 15.0783 12.9042 15.0783C12.9045 15.0783 12.9047 15.0783 12.9045 15.0783C12.9045 15.0783 12.9002 15.0779 12.8905 15.0749C12.8689 15.0683 12.8239 15.0506 12.7448 15.0027C12.5717 14.898 12.3529 14.725 11.9858 14.4313L11.0488 15.6026ZM13.7009 14.2857C13.3886 14.637 13.2022 14.8445 13.0491 14.9769C12.9792 15.0374 12.9379 15.0625 12.9177 15.0726C12.9086 15.0772 12.9045 15.0783 12.9045 15.0783C12.9043 15.0784 12.9045 15.0783 12.9048 15.0783C12.9051 15.0782 12.9051 15.0782 12.9045 15.0783L13.0314 16.5729C13.4499 16.5374 13.7692 16.3374 14.0306 16.1112C14.2756 15.8992 14.5371 15.6028 14.8221 15.2822L13.7009 14.2857ZM7.26455 13.9992C7.57967 13.6841 7.76648 13.4993 7.91783 13.3824C7.98676 13.3291 8.02696 13.3074 8.04666 13.2986C8.05561 13.2946 8.05971 13.2936 8.05999 13.2935C8.06006 13.2935 8.05974 13.2935 8.06039 13.2935L7.97744 11.7958C7.57687 11.818 7.26265 11.993 7.00068 12.1955C6.7556 12.3848 6.49084 12.6516 6.20389 12.9386L7.26455 13.9992ZM9.86634 12.7357C9.54946 12.4822 9.25685 12.2463 8.99236 12.0851C8.70964 11.9129 8.37801 11.7736 7.97744 11.7958L8.06039 13.2935C8.06105 13.2935 8.06072 13.2935 8.06079 13.2935C8.06108 13.2935 8.06527 13.2941 8.0746 13.297C8.09514 13.3036 8.13751 13.3208 8.2119 13.3661C8.37524 13.4656 8.5813 13.6286 8.9293 13.907L9.86634 12.7357ZM18 6.95312H20V5.45312H18V6.95312ZM21.25 8.20313V10.2031H22.75V8.20313H21.25ZM20 6.95312C20.4926 6.95312 20.7866 6.95472 20.9973 6.98305C21.0939 6.99603 21.1423 7.01132 21.164 7.02028C21.1691 7.02236 21.1724 7.02398 21.1743 7.02499C21.1762 7.02598 21.1771 7.02654 21.1772 7.02659C21.1772 7.02664 21.177 7.02648 21.1767 7.0262C21.1763 7.02592 21.1763 7.02589 21.1768 7.02635L22.2374 5.96569C21.9284 5.65666 21.5527 5.54422 21.1972 5.49642C20.8633 5.45153 20.4502 5.45312 20 5.45312V6.95312ZM22.75 8.20313C22.75 7.75292 22.7516 7.33982 22.7067 7.00592C22.6589 6.65044 22.5465 6.27471 22.2374 5.96569L21.1768 7.02635C21.1772 7.0268 21.1772 7.02682 21.1769 7.02648C21.1766 7.02613 21.1765 7.02589 21.1765 7.02596C21.1766 7.02604 21.1771 7.02689 21.1781 7.0288C21.1792 7.03073 21.1808 7.03404 21.1828 7.03909C21.1918 7.06087 21.2071 7.10923 21.2201 7.20579C21.2484 7.41651 21.25 7.71052 21.25 8.20313H22.75Z"
              fill="#219653"
            />
            <path
              d="M31.8778 16.3224C31.2443 16.3224 30.6818 16.2159 30.1903 16.0028C29.7017 15.7898 29.3182 15.4986 29.0398 15.1293C28.7642 14.7571 28.6278 14.3352 28.6307 13.8636C28.6278 13.4972 28.7074 13.1605 28.8693 12.8537C29.0313 12.5469 29.25 12.2912 29.5256 12.0866C29.804 11.8793 30.1136 11.7472 30.4545 11.6903V11.6307C30.0057 11.5312 29.642 11.3026 29.3636 10.9446C29.0881 10.5838 28.9517 10.1676 28.9545 9.69602C28.9517 9.24716 29.0767 8.84659 29.3295 8.49432C29.5824 8.14205 29.929 7.86506 30.3693 7.66335C30.8097 7.45881 31.3125 7.35653 31.8778 7.35653C32.4375 7.35653 32.9361 7.45881 33.3736 7.66335C33.8139 7.86506 34.1605 8.14205 34.4134 8.49432C34.669 8.84659 34.7969 9.24716 34.7969 9.69602C34.7969 10.1676 34.6562 10.5838 34.375 10.9446C34.0966 11.3026 33.7372 11.5312 33.2969 11.6307V11.6903C33.6378 11.7472 33.9446 11.8793 34.2173 12.0866C34.4929 12.2912 34.7116 12.5469 34.8736 12.8537C35.0384 13.1605 35.1207 13.4972 35.1207 13.8636C35.1207 14.3352 34.9815 14.7571 34.7031 15.1293C34.4247 15.4986 34.0412 15.7898 33.5526 16.0028C33.0668 16.2159 32.5085 16.3224 31.8778 16.3224ZM31.8778 15.1037C32.2045 15.1037 32.4886 15.0483 32.7301 14.9375C32.9716 14.8239 33.1591 14.6648 33.2926 14.4602C33.4261 14.2557 33.4943 14.0199 33.4972 13.7528C33.4943 13.4744 33.4219 13.2287 33.2798 13.0156C33.1406 12.7997 32.9489 12.6307 32.7045 12.5085C32.4631 12.3864 32.1875 12.3253 31.8778 12.3253C31.5653 12.3253 31.2869 12.3864 31.0426 12.5085C30.7983 12.6307 30.6051 12.7997 30.4631 13.0156C30.3239 13.2287 30.2557 13.4744 30.2585 13.7528C30.2557 14.0199 30.321 14.2557 30.4545 14.4602C30.5881 14.6619 30.7756 14.8196 31.017 14.9332C31.2614 15.0469 31.5483 15.1037 31.8778 15.1037ZM31.8778 11.1278C32.1449 11.1278 32.3807 11.0739 32.5852 10.9659C32.7926 10.858 32.956 10.7074 33.0753 10.5142C33.1946 10.321 33.2557 10.098 33.2585 9.84517C33.2557 9.59517 33.196 9.37642 33.0795 9.18892C32.9631 8.99858 32.8011 8.85227 32.5938 8.75C32.3864 8.64489 32.1477 8.59233 31.8778 8.59233C31.6023 8.59233 31.3594 8.64489 31.1491 8.75C30.9418 8.85227 30.7798 8.99858 30.6634 9.18892C30.5497 9.37642 30.4943 9.59517 30.4972 9.84517C30.4943 10.098 30.5511 10.321 30.6676 10.5142C30.7869 10.7045 30.9503 10.8551 31.1577 10.9659C31.3679 11.0739 31.608 11.1278 31.8778 11.1278ZM41.1879 14.5668V14.1065C41.1879 13.7685 41.2589 13.4574 41.4009 13.1733C41.5458 12.8892 41.756 12.6605 42.0316 12.4872C42.3072 12.3139 42.641 12.2273 43.033 12.2273C43.4364 12.2273 43.7745 12.3139 44.0472 12.4872C44.32 12.6577 44.5259 12.8849 44.6651 13.169C44.8072 13.4531 44.8782 13.7656 44.8782 14.1065V14.5668C44.8782 14.9048 44.8072 15.2159 44.6651 15.5C44.5231 15.7841 44.3143 16.0128 44.0387 16.1861C43.766 16.3594 43.4308 16.446 43.033 16.446C42.6353 16.446 42.2987 16.3594 42.0231 16.1861C41.7475 16.0128 41.5387 15.7841 41.3967 15.5C41.2575 15.2159 41.1879 14.9048 41.1879 14.5668ZM42.3001 14.1065V14.5668C42.3001 14.7912 42.354 14.9972 42.462 15.1847C42.57 15.3722 42.7603 15.4659 43.033 15.4659C43.3086 15.4659 43.4975 15.3736 43.5998 15.1889C43.7049 15.0014 43.7575 14.794 43.7575 14.5668V14.1065C43.7575 13.8793 43.7077 13.6719 43.6083 13.4844C43.5089 13.294 43.3171 13.1989 43.033 13.1989C42.766 13.1989 42.5771 13.294 42.4663 13.4844C42.3555 13.6719 42.3001 13.8793 42.3001 14.1065ZM36.7518 9.57244V9.11222C36.7518 8.77131 36.8242 8.45881 36.9691 8.17472C37.114 7.89062 37.3242 7.66335 37.5998 7.4929C37.8754 7.3196 38.2092 7.23295 38.6012 7.23295C39.0018 7.23295 39.3384 7.3196 39.6112 7.4929C39.8867 7.66335 40.0941 7.89062 40.2333 8.17472C40.3725 8.45881 40.4421 8.77131 40.4421 9.11222V9.57244C40.4421 9.91335 40.3711 10.2259 40.229 10.5099C40.0898 10.7912 39.8825 11.017 39.6069 11.1875C39.3313 11.358 38.9961 11.4432 38.6012 11.4432C38.2006 11.4432 37.8626 11.358 37.587 11.1875C37.3143 11.017 37.1069 10.7898 36.9648 10.5057C36.8228 10.2216 36.7518 9.91051 36.7518 9.57244ZM37.8725 9.11222V9.57244C37.8725 9.79972 37.9251 10.0071 38.0302 10.1946C38.1381 10.3793 38.3285 10.4716 38.6012 10.4716C38.8739 10.4716 39.0614 10.3793 39.1637 10.1946C39.2688 10.0071 39.3214 9.79972 39.3214 9.57244V9.11222C39.3214 8.88494 39.2717 8.67756 39.1722 8.49006C39.0728 8.29972 38.8825 8.20455 38.6012 8.20455C38.3313 8.20455 38.1424 8.29972 38.0344 8.49006C37.9265 8.6804 37.8725 8.88778 37.8725 9.11222ZM37.2376 16.2031L43.2376 7.47585H44.3029L38.3029 16.2031H37.2376Z"
              fill="#219653"
            />
          </svg>
        </section>

        <div class="text-xs text-[#475467] text-opacity-80 mb-0.5">
          Available balance
        </div>

        <div class="font-bold text-2xl text-[#101828]">
          40,000 <span class="text-[#9098A3] font-medium text-xs">NGN</span>
        </div>
      </section>

      <section class="flex gap-x-3.5 mt-4">
        <Button
          class="flex-grow bg-[#F9F9F9] text-[##101828] border border-[#D8D8D8]"
        >
          <svg
            width="16"
            height="17"
            viewBox="0 0 16 17"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M8.00033 2.8698V13.5365M13.3337 8.20313H2.66699"
              stroke="#101828"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>

          <span class="ml-1.5">Top up</span>
        </Button>

        <Button
          class="flex-grow bg-[#F9F9F9] text-[##101828] border border-[#D8D8D8]"
        >
          <svg
            width="16"
            height="17"
            viewBox="0 0 16 17"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1629_2405)">
              <path
                d="M10.6663 8.20312H5.33301"
                stroke="#101828"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <circle
                cx="7.99967"
                cy="8.20312"
                r="6.66667"
                stroke="#101828"
                stroke-width="1.5"
              />
            </g>
            <defs>
              <clipPath id="clip0_1629_2405">
                <rect
                  width="16"
                  height="16"
                  fill="white"
                  transform="translate(0 0.203125)"
                />
              </clipPath>
            </defs>
          </svg>

          <span class="ml-1.5">Withdraw</span>
        </Button>

        <Button
          class="flex-grow bg-[#F9F9F9] text-[##101828] border border-[#D8D8D8]"
        >
          <svg
            width="16"
            height="17"
            viewBox="0 0 16 17"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M8.33301 13.5365H6.99967C4.49396 13.5365 3.2411 13.5365 2.40465 12.8759C2.27086 12.7702 2.14713 12.6538 2.03487 12.5279C1.33301 11.7406 1.33301 10.5615 1.33301 8.20313C1.33301 5.84481 1.33301 4.66565 2.03487 3.8784C2.14713 3.75248 2.27086 3.63603 2.40465 3.53038C3.2411 2.8698 4.49396 2.8698 6.99967 2.8698H8.99967C11.5054 2.8698 12.7583 2.8698 13.5947 3.53038C13.7285 3.63603 13.8522 3.75248 13.9645 3.8784C14.5592 4.54552 14.65 5.49408 14.6638 7.20313"
              stroke="#101828"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M12.3333 13.5365L12.3333 8.8698M10 11.2031H14.6667"
              stroke="#101828"
              stroke-width="1.5"
              stroke-linecap="round"
            />
            <path
              d="M1.33301 6.20312H14.6663"
              stroke="#101828"
              stroke-width="1.5"
              stroke-linejoin="round"
            />
          </svg>

          <span class="ml-1.5">Add new card</span>
        </Button>
      </section>
    </section>

    <section class="mt-9 rounded-xl border border-[#E4E7EC] animation-slide-up">
      <section class="px-6 py-6 flex items-center">
        <div class="font-semibold">Recent Orders</div>
      </section>

      <section>
        <DataTable :columns="columns" :data="data" />
      </section>

      <section class="h-[68px] flex items-center justify-center border-t px-4">
        <z-pagination />
      </section>
    </section>
  </main>
</template>

<style scoped></style>
